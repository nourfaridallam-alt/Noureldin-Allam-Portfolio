<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Manager - Noureldin Allam</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --dark: #0a0a0a;
            --dark-secondary: #1a1a1a;
            --dark-card: #242424;
            --text: #ffffff;
            --text-dim: #a0a0a0;
            --accent: #f5f5f5;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: var(--dark);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            cursor: none;
        }

        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.6;
        }

        .cursor {
            position: fixed;
            width: 40px;
            height: 40px;
            border: 2px solid var(--text);
            border-radius: 50%;
            pointer-events: none;
            z-index: 10000;
            transition: all 0.1s ease;
            mix-blend-mode: difference;
        }

        .cursor-trail {
            position: fixed;
            width: 4px;
            height: 4px;
            background: var(--text);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.5;
        }

        nav,
        .hero,
        .content {
            position: relative;
            z-index: 1;
        }

        nav {
            background: var(--dark-secondary);
            padding: 1.5rem 4rem;
            border-bottom: 1px solid var(--dark-card);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .back-link {
            color: var(--text-dim);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: color 0.3s;
        }

        .back-link:hover {
            color: var(--text);
        }

        .nav-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .hero {
            padding: 4rem 4rem 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            margin-bottom: 1rem;
        }

        .project-meta {
            display: flex;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-dim);
        }

        .tags {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        .tag {
            padding: 0.5rem 1rem;
            background: var(--dark-card);
            border: 1px solid var(--dark-secondary);
            border-radius: 20px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem 4rem 4rem;
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 3rem;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: 3rem;
        }

        .section {
            background: var(--dark-secondary);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid var(--dark-card);
        }

        .section h2 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--text);
        }

        .section h3 {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            margin-top: 1.5rem;
            color: var(--text);
        }

        .section p {
            color: var(--text-dim);
            margin-bottom: 1rem;
            line-height: 1.8;
        }

        .section ul,
        .section ol {
            color: var(--text-dim);
            padding-left: 2rem;
            margin-bottom: 1rem;
        }

        .section li {
            padding: 0.5rem 0;
            line-height: 1.8;
        }

        .code-block {
            background: var(--dark);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--dark-card);
            overflow-x: auto;
            margin: 1rem 0;
        }

        .code-block pre {
            margin: 0;
            color: var(--text-dim);
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .code-block code {
            color: var(--text);
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .sidebar-section {
            background: var(--dark-secondary);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid var(--dark-card);
        }

        .sidebar-section h3 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }

        .tech-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .tech-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--text-dim);
        }

        .tech-icon {
            font-size: 1.5rem;
        }

        .link-button {
            display: block;
            padding: 1rem;
            background: var(--text);
            color: var(--dark);
            text-decoration: none;
            text-align: center;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s;
            margin-top: 1rem;
        }

        .link-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 255, 255, 0.2);
        }

        .link-button.secondary {
            background: transparent;
            border: 2px solid var(--text);
            color: var(--text);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .feature-card {
            background: var(--dark-card);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--dark-secondary);
        }

        .feature-card h4 {
            color: var(--text);
            margin-bottom: 0.5rem;
        }

        .feature-card p {
            color: var(--text-dim);
            font-size: 0.95rem;
            margin: 0;
        }

        .encryption-demo {
            background: var(--dark);
            padding: 2rem;
            border-radius: 8px;
            border: 1px solid var(--dark-card);
            margin: 1rem 0;
        }

        .encryption-step {
            margin: 1rem 0;
            padding: 1rem;
            background: var(--dark-card);
            border-radius: 6px;
            border-left: 4px solid #4ade80;
        }

        .encryption-step h4 {
            color: #4ade80;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .encryption-step code {
            color: var(--text);
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .warning-box {
            background: var(--dark);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #f59e0b;
            margin: 1rem 0;
        }

        .warning-box h4 {
            color: #f59e0b;
            margin-bottom: 0.75rem;
        }

        .file-structure {
            background: var(--dark);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--dark-card);
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        @media (max-width: 968px) {
            body {
                cursor: default;
            }

            .cursor,
            .cursor-trail {
                display: none;
            }

            nav {
                padding: 1rem 2rem;
            }

            .hero,
            .content {
                padding: 2rem;
            }

            .content {
                grid-template-columns: 1fr;
            }

            .sidebar {
                order: -1;
            }
        }
    </style>
</head>

<body>
    <div class="cursor"></div>
    <canvas id="bg-canvas"></canvas>

    <nav>
        <div class="nav-container">
            <a href="mywebsite.html" class="back-link">
                ‚Üê Back to Portfolio
            </a>
            <div class="nav-title">Password Manager</div>
        </div>
    </nav>

    <section class="hero">
        <h1>üîê Password Manager</h1>
        <div class="project-meta">
            <div class="meta-item">
                <span>üìÖ</span>
                <span>2024</span>
            </div>
            <div class="meta-item">
                <span>üíª</span>
                <span>Python</span>
            </div>
            <div class="meta-item">
                <span>‚ö°</span>
                <span>Encryption & Security</span>
            </div>
        </div>
        <div class="tags">
            <span class="tag">Python</span>
            <span class="tag">Cryptography</span>
            <span class="tag">Fernet Encryption</span>
            <span class="tag">File I/O</span>
            <span class="tag">Data Security</span>
            <span class="tag">Key Management</span>
        </div>
    </section>

    <div class="content">
        <div class="main-content">
            <div class="section">
                <h2>Project Overview</h2>
                <p>A secure command-line password manager that encrypts and stores account credentials using
                    industry-standard Fernet symmetric encryption. The application allows users to safely store
                    unlimited passwords for different accounts while maintaining a single encryption key for access
                    control.</p>
                <p>This project demonstrates advanced Python concepts including cryptography implementation, file
                    handling with binary data, key management, and secure data persistence. It provides a practical
                    solution to the common problem of password storage while teaching fundamental cybersecurity
                    principles.</p>

                <div class="file-structure">
                    <span style="color: #4ade80;">password-manager/</span><br>
                    ‚îú‚îÄ‚îÄ <span style="color: #60a5fa;">password_manager.py</span> # Main application<br>
                    ‚îú‚îÄ‚îÄ <span style="color: #f59e0b;">key.key</span> # Encryption key (generated)<br>
                    ‚îî‚îÄ‚îÄ <span style="color: #a78bfa;">password.txt</span> # Encrypted passwords storage
                </div>
            </div>

            <div class="section">
                <h2>Key Features</h2>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>üîí Fernet Encryption</h4>
                        <p>Uses symmetric encryption to secure all stored passwords</p>
                    </div>
                    <div class="feature-card">
                        <h4>üîë Automatic Key Generation</h4>
                        <p>Creates and manages encryption keys automatically</p>
                    </div>
                    <div class="feature-card">
                        <h4>üíæ Persistent Storage</h4>
                        <p>Saves encrypted data to file for long-term storage</p>
                    </div>
                    <div class="feature-card">
                        <h4>üëÄ View Passwords</h4>
                        <p>Decrypt and display stored credentials on demand</p>
                    </div>
                    <div class="feature-card">
                        <h4>‚ûï Add New Entries</h4>
                        <p>Store new account credentials with automatic encryption</p>
                    </div>
                    <div class="feature-card">
                        <h4>‚úÖ Key File Validation</h4>
                        <p>Checks for encryption key existence on startup</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Technical Implementation</h2>

                <h3>Fernet Symmetric Encryption</h3>
                <p>The application uses the cryptography library's Fernet implementation, which provides authenticated
                    encryption. Fernet guarantees that encrypted data cannot be manipulated or read without the key,
                    ensuring both confidentiality and integrity.</p>

                <div class="encryption-demo">
                    <div class="encryption-step">
                        <h4>Step 1: Generate Encryption Key</h4>
                        <code>key = Fernet.generate_key()</code>
                        <p style="margin-top: 0.5rem; color: var(--text-dim);">Creates a random 32-byte URL-safe
                            base64-encoded key</p>
                    </div>
                    <div class="encryption-step">
                        <h4>Step 2: Encrypt Password</h4>
                        <code>encrypted = fer.encrypt(password.encode())</code>
                        <p style="margin-top: 0.5rem; color: var(--text-dim);">Converts password to ciphertext that's
                            unreadable without the key</p>
                    </div>
                    <div class="encryption-step">
                        <h4>Step 3: Decrypt When Needed</h4>
                        <code>decrypted = fer.decrypt(encrypted).decode()</code>
                        <p style="margin-top: 0.5rem; color: var(--text-dim);">Recovers original password using the
                            encryption key</p>
                    </div>
                </div>

                <h3>Key Management System</h3>
                <p>The application implements automatic key generation and loading. On first run, it detects the absence
                    of a key file and creates one. Subsequent runs load the existing key for encryption/decryption
                    operations.</p>

                <div class="code-block">
                    <pre><code>def write_key():
    key = Fernet.generate_key()
    with open("key.key", "wb") as key_file:
        key_file.write(key)

def load_key():
    with open("key.key", "rb") as file:
        return file.read()

# Check if key exists, create if not
if not os.path.exists("key.key"):
    print("Key file not found. generating new one...")
    write_key()

key = load_key()
fer = Fernet(key)</code></pre>
                </div>

                <h3>Data Storage Format</h3>
                <p>Passwords are stored in a structured text file format with pipe-separated values. Each line contains
                    an account name and its encrypted password, enabling simple parsing and retrieval.</p>

                <div class="code-block">
                    <pre><code># Storage format in password.txt:
# account_name|encrypted_password_string

def add():
    name = input('Account Name: ')
    pwd = input('Password: ')
    
    with open('password.txt', 'a') as f:
        encrypted_pwd = fer.encrypt(pwd.encode()).decode()
        f.write(name + "|" + encrypted_pwd + "\n")</code></pre>
                </div>

                <h3>Password Retrieval and Decryption</h3>
                <p>The view function reads the password file line by line, splits each entry, and decrypts passwords in
                    real-time for display. This ensures encrypted data is never stored in memory unnecessarily.</p>

                <div class="code-block">
                    <pre><code>def view():
    with open('password.txt', 'r') as f:
        for line in f.readlines():
            data = line.rstrip()  # Remove newline character
            user, passw = data.split("|")  # Split account and password
            
            # Decrypt password for display
            decrypted = fer.decrypt(passw.encode()).decode()
            print("User:", user, "- Password:", decrypted)</code></pre>
                </div>
            </div>

            <div class="section">
                <h2>Security Architecture</h2>

                <h3>How Fernet Encryption Works</h3>
                <p>Fernet uses AES encryption in CBC mode with a 128-bit key, combined with HMAC for authentication.
                    This prevents tampering and ensures that encrypted data hasn't been modified. The encryption process
                    includes:</p>

                <ol style="color: var(--text-dim); line-height: 2;">
                    <li><strong>Key Generation:</strong> Creates a cryptographically secure random key</li>
                    <li><strong>Timestamp Addition:</strong> Embeds current timestamp for freshness validation</li>
                    <li><strong>AES Encryption:</strong> Encrypts data using Advanced Encryption Standard</li>
                    <li><strong>HMAC Signing:</strong> Adds authentication code to prevent tampering</li>
                    <li><strong>Base64 Encoding:</strong> Converts binary output to text-safe format</li>
                </ol>

                <h3>Security Best Practices Implemented</h3>
                <ul>
                    <li><strong>Symmetric Encryption:</strong> Fast and secure for single-user scenarios</li>
                    <li><strong>Authenticated Encryption:</strong> HMAC prevents data tampering</li>
                    <li><strong>Binary Key Storage:</strong> Keys stored in binary format for security</li>
                    <li><strong>Automatic Key Management:</strong> Reduces risk of key loss or exposure</li>
                    <li><strong>No Plaintext Storage:</strong> Passwords never stored in readable form</li>
                </ul>

                <div class="warning-box">
                    <h4>‚ö†Ô∏è Important Security Note</h4>
                    <p>The <code>key.key</code> file is critical for decryption. If lost, all stored passwords become
                        permanently inaccessible. In production applications, key backup and recovery mechanisms should
                        be implemented. Additionally, this key should never be committed to version control or shared
                        publicly.</p>
                </div>
            </div>

            <div class="section">
                <h2>Challenges & Solutions</h2>

                <h3>Challenge 1: Binary vs Text File Handling</h3>
                <p><strong>Problem:</strong> Encryption keys and encrypted data are binary, but account names are text,
                    requiring different file modes.</p>
                <p><strong>Solution:</strong> Used <code>'wb'</code> (write binary) for key files and
                    <code>'r'/'a'</code> (read/append text) for password storage. Employed <code>.encode()</code> and
                    <code>.decode()</code> for proper data conversion between formats.
                </p>

                <h3>Challenge 2: Key File Initialization</h3>
                <p><strong>Problem:</strong> First-time users don't have an encryption key, causing the program to
                    crash.</p>
                <p><strong>Solution:</strong> Implemented <code>os.path.exists()</code> check to detect missing key
                    files. Automatically generates and saves a new key if none exists, ensuring smooth first-run
                    experience.</p>

                <h3>Challenge 3: Data Structure for Storage</h3>
                <p><strong>Problem:</strong> Needed a simple, parseable format to store account-password pairs.</p>
                <p><strong>Solution:</strong> Used pipe-separated values (account|encrypted_password) with one entry per
                    line. The <code>split('|')</code> method cleanly separates components during retrieval.</p>

                <h3>Challenge 4: Encryption Library Learning Curve</h3>
                <p><strong>Problem:</strong> Understanding how to properly use the cryptography library and Fernet
                    implementation.</p>
                <p><strong>Solution:</strong> Studied Fernet documentation and encryption principles. Learned proper
                    encode/decode sequences for transitioning between strings and bytes for encryption operations.</p>
            </div>

            <div class="section">
                <h2>What I Learned</h2>
                <ul>
                    <li><strong>Cryptography Fundamentals:</strong> Understanding of symmetric encryption and
                        authenticated encryption schemes</li>
                    <li><strong>Python Cryptography Library:</strong> Practical experience with industry-standard
                        encryption tools</li>
                    <li><strong>File I/O Operations:</strong> Working with both text and binary file modes</li>
                    <li><strong>Key Management:</strong> Principles of secure key generation, storage, and lifecycle
                    </li>
                    <li><strong>Data Encoding:</strong> Converting between strings, bytes, and base64 formats</li>
                    <li><strong>Error Handling:</strong> Implementing checks for file existence and data integrity</li>
                    <li><strong>Security Principles:</strong> Learned about confidentiality, integrity, and
                        authentication in data protection</li>
                    <li><strong>User Experience:</strong> Balancing security with usability in application design</li>
                    <li><strong>File System Operations:</strong> Using os module for file management and validation</li>
                </ul>
            </div>

            <div class="section">
                <h2>Potential Enhancements</h2>
                <ul>
                    <li><strong>Master Password:</strong> Add an additional layer with password-based key derivation
                        (PBKDF2)</li>
                    <li><strong>Search Functionality:</strong> Find specific accounts without viewing all passwords</li>
                    <li><strong>Password Editing:</strong> Update existing passwords without deletion and re-addition
                    </li>
                    <li><strong>Delete Function:</strong> Remove specific account entries from storage</li>
                    <li><strong>Password Generation Integration:</strong> Combine with password generator for one-click
                        secure password creation</li>
                    <li><strong>Clipboard Integration:</strong> Copy passwords to clipboard instead of displaying them
                    </li>
                    <li><strong>Automatic Clipboard Clear:</strong> Clear copied passwords after timeout for security
                    </li>
                    <li><strong>Key Backup:</strong> Encrypted backup mechanism for encryption key recovery</li>
                    <li><strong>GUI Interface:</strong> Visual interface using Tkinter or PyQt for better usability</li>
                    <li><strong>Cloud Sync:</strong> Secure synchronization across devices using end-to-end encryption
                    </li>
                </ul>
            </div>

            <div class="section">
                <h2>Complete Source Code</h2>
                <div class="code-block">
                    <pre><code>import os
from cryptography.fernet import Fernet

def write_key():
    key = Fernet.generate_key()
    with open("key.key", "wb") as key_file:
        key_file.write(key)

def load_key():
    with open("key.key", "rb") as file:
        return file.read()

# Check if the key file exists: if not create it
if not os.path.exists("key.key"):
    print("Key file not found. generating new one...")
    write_key()

key = load_key()
fer = Fernet(key)

def view():
    with open('password.txt', 'r') as f:
        for line in f.readlines():
            # Strip the newline command from our file
            data = line.rstrip()
            user, passw = data.split("|")
            print("User:", user, "- Password:",
                  fer.decrypt(passw.encode()).decode())

def add():
    name = input('Account Name: ')
    pwd = input('Password: ')

    # 'a' mode allows you to add something at the end of an existing file
    # if the file does not exist it will create one and then add to it
    with open('password.txt', 'a') as f:
        # "\n" means go to the next line
        f.write(name + "|" + fer.encrypt(pwd.encode()).decode() + "\n")

while True:
    mode = input(
        "Would you like to add a new password, view existing passwords, or quit (View / Add / Quit) ").lower()

    if mode == "quit":
        break

    if mode == "view":
        view()
    elif mode == "add":
        add()
    else:
        print("Invalid mode.")
        continue</code></pre>
                </div>
            </div>
        </div>

        <div class="sidebar">
            <div class="sidebar-section">
                <h3>Technologies Used</h3>
                <div class="tech-list">
                    <div class="tech-item">
                        <span class="tech-icon">üêç</span>
                        <span>Python 3.x</span>
                    </div>
                    <div class="tech-item">
                        <span class="tech-icon">üîê</span>
                        <span>Cryptography Library</span>
                    </div>
                    <div class="tech-item">
                        <span class="tech-icon">üîë</span>
                        <span>Fernet Encryption</span>
                    </div>
                    <div class="tech-item">
                        <span class="tech-icon">üìÅ</span>
                        <span>OS Module</span>
                    </div>
                    <div class="tech-item">
                        <span class="tech-icon">üíæ</span>
                        <span>File I/O</span>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>Encryption Details</h3>
                <div class="tech-list">
                    <div class="tech-item">
                        <span>üîí</span>
                        <span>AES 128-bit CBC</span>
                    </div>
                    <div class="tech-item">
                        <span>‚úÖ</span>
                        <span>HMAC Authentication</span>
                    </div>
                    <div class="tech-item">
                        <span>üîë</span>
                        <span>Symmetric Key</span>
                    </div>
                    <div class="tech-item">
                        <span>üìù</span>
                        <span>Base64 Encoding</span>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>Project Links</h3>
                <a href="#" class="link-button">View on GitHub</a>
                <a href="#" class="link-button secondary">Download Code</a>
            </div>

            <div class="sidebar-section">
                <h3>Project Stats</h3>
                <div class="tech-list">
                    <div class="tech-item">
                        <span>üìä</span>
                        <span>~50 Lines of Code</span>
                    </div>
                    <div class="tech-item">
                        <span>‚è±Ô∏è</span>
                        <span>Development: 3 hours</span>
                    </div>
                    <div class="tech-item">
                        <span>üéØ</span>
                        <span>Difficulty: Intermediate</span>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>Related Projects</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 1rem;">
                        <a href="password-generator.html" style="color: var(--text-dim); text-decoration: none;">
                            üîë Password Generator ‚Üí
                        </a>
                    </li>
                    <li style="margin-bottom: 1rem;">
                        <a href="login-signup.html" style="color: var(--text-dim); text-decoration: none;">
                            üîì Login-Signup Sim ‚Üí
                        </a>
                    </li>
                    <li>
                        <a href="bank-app.html" style="color: var(--text-dim); text-decoration: none;">
                            üè¶ Bank Application ‚Üí
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const particles = [];
        const particleCount = 280;
        let time = 0;

        class Particle {
            constructor() {
                this.baseX = Math.random() * canvas.width;
                this.baseY = Math.random() * canvas.height;
                this.x = this.baseX;
                this.y = this.baseY;
                this.size = Math.random() * 0.8 + 0.3;
                this.speedX = Math.random() * 0.5 - 0.25;
                this.speedY = Math.random() * 0.5 - 0.25;
                this.opacity = Math.random() * 0.6 + 0.2;
                this.offset = Math.random() * Math.PI * 2;
            }

            update() {
                this.x = this.baseX + Math.sin(time + this.offset) * 30;
                this.y = this.baseY + Math.cos(time + this.offset) * 30;

                this.baseX += this.speedX;
                this.baseY += this.speedY;

                if (this.baseX < -50) this.baseX = canvas.width + 50;
                if (this.baseX > canvas.width + 50) this.baseX = -50;
                if (this.baseY < -50) this.baseY = canvas.height + 50;
                if (this.baseY > canvas.height + 50) this.baseY = -50;
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(200, 200, 255, ${this.opacity})`;
                ctx.fill();
            }
        }

        for (let i = 0; i < particleCount; i++) {
            particles.push(new Particle());
        }

        function animateBackground() {
            time += 0.02;

            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            gradient.addColorStop(0, '#0a0a0a');
            gradient.addColorStop(0.5, '#1a1a2e');
            gradient.addColorStop(1, '#0a0a0a');

            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            particles.forEach(particle => {
                particle.update();
                particle.draw();
            });

            requestAnimationFrame(animateBackground);
        }

        animateBackground();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        const cursor = document.querySelector('.cursor');
        const trails = [];
        const trailLength = 20;

        for (let i = 0; i < trailLength; i++) {
            const trail = document.createElement('div');
            trail.className = 'cursor-trail';
            document.body.appendChild(trail);
            trails.push({
                element: trail,
                x: 0,
                y: 0
            });
        }

        let mouseX = 0;
        let mouseY = 0;
        let cursorX = 0;
        let cursorY = 0;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        function animateCursor() {
            cursorX += (mouseX - cursorX) * 0.4;
            cursorY += (mouseY - cursorY) * 0.4;

            cursor.style.left = cursorX + 'px';
            cursor.style.top = cursorY + 'px';

            trails.forEach((trail, index) => {
                const nextTrail = trails[index - 1] || { x: cursorX, y: cursorY };

                trail.x += (nextTrail.x - trail.x) * 0.5;
                trail.y += (nextTrail.y - trail.y) * 0.5;

                trail.element.style.left = trail.x + 'px';
                trail.element.style.top = trail.y + 'px';
                trail.element.style.opacity = (trailLength - index) / trailLength * 0.5;
                trail.element.style.transform = `scale(${(trailLength - index) / trailLength})`;
            });

            requestAnimationFrame(animateCursor);
        }

        animateCursor();

        document.querySelectorAll('a, button').forEach(el => {
            el.addEventListener('mouseenter', () => {
                cursor.style.transform = 'scale(1.5)';
            });
            el.addEventListener('mouseleave', () => {
                cursor.style.transform = 'scale(1)';
            });
        });
    </script>
</body>

</html>